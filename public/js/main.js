(() => {
  // <stdin>
  console.log("This site was generated by Hugo.");
  document.addEventListener("DOMContentLoaded", function() {
    document.querySelectorAll(".highlight").forEach((block) => {
      let button_container = document.createElement("div");
      button_container.className = "copy-button-container";
      let button = document.createElement("button");
      button.innerText = "Copy";
      button.className = "copy-button";
      block.style.position = "relative";
      block.insertBefore(button_container, block.firstChild);
      button_container.appendChild(button);
      button.addEventListener("click", () => {
        if (button.innerText === "Copied!") return;
        let code = block.querySelector("code").textContent;
        navigator.clipboard.writeText(code).then(() => {
          button.innerText = "Copied!";
          button.classList.add("copied");
          setTimeout(() => {
            button.classList.remove("copied");
          }, 1800);
          setTimeout(() => {
            button.innerText = "Copy";
          }, 2e3);
        });
      });
    });
  });
})();
